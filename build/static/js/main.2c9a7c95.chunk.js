(this.webpackJsonpshopsample=this.webpackJsonpshopsample||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/1001596018.thb.aa828196.jpg"},28:function(e,t,a){e.exports=a.p+"static/media/050915_5368_1834_a__p.thb.014540e1.jpg"},29:function(e,t,a){e.exports=a.p+"static/media/1001596003.thb.b71c1c55.jpg"},30:function(e,t,a){e.exports=a.p+"static/media/050915_5368_1745_a__p.thb.df856e7c.jpg"},31:function(e,t,a){e.exports=a.p+"static/media/1001596053.thb.4ad74683.jpg"},32:function(e,t,a){e.exports=a.p+"static/media/1001596036.thb.100a5ece.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/051115_5368_0315_a__p.thb.bcd99e44.jpg"},34:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),l=a(11),o=a(12),m=a(18),s=a(17),u=a(4),d=a(7),E=Object(d.b)((function(e){var t=e.cart;return{items:t.cartItems,total:t.total}}))((function(e){var t=e.items,a=e.total,n=0;t.map((function(e){return n+=e.count}));var c=!1;return r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement(u.b,{className:"navbar-brand col-9",to:"/"},"My Shop"),e.route?r.a.createElement("button",{id:"btn-like-head",type:"button",className:"btn",onClick:function(){return c=function(e){var t=document.createElement("i");t.className="fas fa-heart";var a=document.createElement("i");a.className="far fa-heart",document.getElementById("btn-like-head").innerHTML=e?"Show liked items ":"Show all items ",document.getElementById("btn-like-head").appendChild(e?t:a);for(var n=e?document.getElementsByClassName("d-none"):document.getElementsByClassName("item-false"),r=0;r<n.length;r++)e?n[r].classList.remove("d-none"):n[r].classList.add("d-none");n=e?document.getElementsByClassName("d-none"):document.getElementsByClassName("item-false");for(var c=0;c<n.length;c++)e?n[c].classList.remove("d-none"):n[c].classList.add("d-none");return!e}(c)}},"Show liked items\xa0",r.a.createElement("i",{className:"fas fa-heart"})):null,r.a.createElement(u.b,{to:"/cart"},n," items at ",r.a.createElement("i",{className:"cart-icon fa fa-shopping-cart"})," ",a,"$"))})),p=a(2),f=function(e){return{type:"ITEM_ADD",payload:e}},h=function(e,t){return function(){t({type:"FETCH_ITEMS_REQUEST"}),e.getItems().then((function(e){return t({type:"FETCH_ITEMS_SUCCESS",payload:e})})).catch((function(e){return t(function(e){return{type:"FETCH_ITEMS_ERROR",payload:e}}(e))}))}},b={onAddtoCart:f,itemLiked:function(e){return{type:"ITEM_LIKED",payload:e}}},g=Object(d.b)((function(e){var t=e.cart;return{items:t.cartItems,total:t.total}}),b)((function(e){var t=e.item,a=e.onAddtoCart,n=e.itemLiked,c=e.more;return r.a.createElement("div",{id:"item"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement(u.b,{to:"/item/"+t.id,className:"col-md-11 list-group-item-action"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 text-center"},r.a.createElement("img",{src:t.image,className:"card-img",alt:"item",style:{maxHeight:"110px",width:"auto"}})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},c?"".concat(t.name," ").concat(t.id):"Name: ".concat(t.name," ").concat(t.id)),r.a.createElement("div",{className:"card-text"},"Price: $",t.price),r.a.createElement("div",{className:"card-text"},"Description: ",c?t.ldescription:t.sdescription))))),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",style:{width:"100%"},className:"btn",onClick:function(){return n(t.id)}},t.isliked?r.a.createElement("i",{className:"fas fa-heart fa-2x"}):r.a.createElement("i",{className:"far fa-heart fa-2x"}))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",style:{width:"100%"},className:"btn",onClick:function(){return a(t.id)}},r.a.createElement("i",{className:"fas fa-cart-arrow-down fa-2x"}))))))})),v=(a(44),function(){return r.a.createElement("div",{className:"loadingio-spinner-eclipse-di1l7yn662n"},r.a.createElement("div",{className:"ldio-3ezp3s950km"},r.a.createElement("div",null)))}),y=function(e){var t=e.msg;return r.a.createElement("div",null,r.a.createElement("h2",null,"Error! Something happened"),r.a.createElement("p",null,t))},N=Object(d.b)((function(e){var t=e.itemList;return{items:t.items,loading:t.loading,error:t.error}}))((function(e){var t=e.items,a=e.loading,n=e.error,c=e.itemId;if(a)return r.a.createElement(v,null);if(n)return r.a.createElement(y,null);if(c){var i=t.findIndex((function(e){return e.id===parseInt(c)}));return r.a.createElement("div",{key:t[i].id,className:"list-group-item list-group-item-action"},r.a.createElement(g,{item:t[i],more:!0}))}return r.a.createElement("div",{id:"itemlist",className:"list-group"},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"list-group-item list-group-item-action item-"+e.isliked},r.a.createElement(g,{item:e}))})))})),I=Object(p.f)((function(e){var t=e.itemId;return r.a.createElement("div",{className:"container"},r.a.createElement(N,{itemId:t}))})),C={itemAddtoCart:f,itemRemoved:function(e){return{type:"ITEM_REMOVE",payload:e}},itemDeleted:function(e){return{type:"ITEM_DELETE",payload:e}},clearCart:function(){return{type:"CLEAR_CART"}}},w=Object(d.b)((function(e){var t=e.cart;return{items:t.cartItems,total:t.total}}),C)((function(e){var t=e.items,a=e.total,n=e.itemAddtoCart,c=e.itemRemoved,i=e.itemDeleted,l=e.clearCart;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Your order"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"row"},r.a.createElement("th",{className:"col-1"},"#"),r.a.createElement("th",{className:"col-7"},"Item"),r.a.createElement("th",{className:"col-1"},"Count"),r.a.createElement("th",{className:"col-1"},"Total"),r.a.createElement("th",{className:"col-2 text-center"},"Action"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e.id,className:"row"},r.a.createElement("td",{className:"col-1"},t+1),r.a.createElement("td",{className:"col-7"},r.a.createElement(u.b,{to:"/item/"+e.id},r.a.createElement("img",{src:e.image,alt:"item"+e.id,style:{maxHeight:"35px",width:"auto"}}),"\xa0",e.name," ",e.id)),r.a.createElement("td",{className:"col-1"},e.count),r.a.createElement("td",{className:"col-1"},"$",e.total),r.a.createElement("td",{className:"col-2"},r.a.createElement("button",{className:"btn",type:"button",onClick:function(){return n(e.id)}},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("button",{className:"btn",type:"button",onClick:function(){return c(e.id)}},r.a.createElement("i",{className:"fas fa-minus"})),r.a.createElement("button",{className:"btn",type:"button",onClick:function(){return i(e.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"col-md-10"},"Total: $",a),t.length>0?r.a.createElement(u.b,{to:"/thanks",type:"button",className:"btn btn-primary",onClick:function(){return l()}},"Confirm order"):null))})),_=function(e){return setTimeout((function(){e.route.history.push("/")}),5e3),r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",null,"Thank you for buying!"),"Redirect to ",r.a.createElement(u.b,{to:"/"},"Home page")," in 5 seconds")},k=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,errorString:null},e}return Object(o.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorString:t})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(y,{msg:this.state.errorString}):this.props.children}}]),a}(r.a.Component),j=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(k,null,r.a.createElement(N,null)))},T=r.a.createContext(),O=T.Provider,S=T.Consumer,x=function(){return function(e){return function(t){return r.a.createElement(S,null,(function(a){return r.a.createElement(e,Object.assign({},t,{itemService:a}))}))}}},M=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchItems()}},{key:"render",value:function(){return r.a.createElement("main",{role:"main"},r.a.createElement(u.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,render:function(e){return r.a.createElement("div",null,r.a.createElement(E,{route:e}),r.a.createElement(j,null))}}),r.a.createElement(p.a,{path:"/thanks",exact:!0,render:function(e){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(_,{route:e}))}}),r.a.createElement(p.a,{path:"/cart",exact:!0,render:function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(w,null))}}),r.a.createElement(p.a,{path:"/item/:id",render:function(e){var t=e.match;return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(I,{itemId:t.params.id}))}}),r.a.createElement(p.a,{render:function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"404 Page not found")))}}))))}}]),a}(r.a.Component),L=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(x(),Object(d.b)(null,(function(e,t){var a=t.itemService;return{fetchItems:h(a,e)}})))(M);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(16),A=a(9),D=a(23),H=function(e,t,a){var n=e.itemList.items,r=e.cart,c=r.cartItems,i=r.total,l=n.find((function(e){return e.id===t})),o=c.findIndex((function(e){return e.id===t})),m=c[o],s=B(l,m,a);return{cartItems:F(c,s,o),total:i+l.price*a}},B=function(e,t,a){return t?Object(D.a)(Object(D.a)({},t),{},{count:t.count+a,total:t.total+e.price*a}):{id:e.id,name:e.name,count:1,total:e.price,image:e.image}},F=function(e,t,a){return 0===t.count?[].concat(Object(A.a)(e.slice(0,a)),Object(A.a)(e.slice(a+1))):-1===a?[].concat(Object(A.a)(e),[t]):[].concat(Object(A.a)(e.slice(0,a)),[t],Object(A.a)(e.slice(a+1)))},$=function(e,t){if(void 0===e)return{cartItems:[],total:0};switch(t.type){case"ITEM_ADD":return H(e,t.payload,1);case"ITEM_REMOVE":return H(e,t.payload,-1);case"ITEM_DELETE":var a=e.cart.cartItems.find((function(e){return e.id===t.payload}));return H(e,t.payload,-a.count);case"CLEAR_CART":return{cartItems:[],total:0};default:return e.cart}},P=function(e,t){var a=e.itemList.items,n=a.findIndex((function(e){return e.id===t})),r=a[n];return r.isliked=!r.isliked,[].concat(Object(A.a)(a.slice(0,n)),[Object.assign({},r)],Object(A.a)(a.slice(n+1)))},U=function(e,t){if(void 0===e)return{items:[],loading:!0,error:null};switch(t.type){case"FETCH_ITEMS_REQUEST":return{items:[],loading:!0,error:null};case"FETCH_ITEMS_SUCCESS":return{items:t.payload,loading:!1,error:null};case"FETCH_ITEMS_ERROR":return{items:[],loading:!1,error:t.payload};case"ITEM_LIKED":return{items:P(e,t.payload),loading:!1,error:null};default:return e.itemList}},V=function(e,t){return{cart:$(e,t),itemList:U(e,t)}},W=Object(R.b)(V),J=a(27),K=a.n(J),Q=a(28),z=a.n(Q),Y=a(29),q=a.n(Y),G=a(30),X=a.n(G),Z=a(31),ee=a.n(Z),te=a(32),ae=a.n(te),ne=a(33),re=a.n(ne),ce=new(function(){function e(){Object(l.a)(this,e),this.data=[{id:0,name:"item",price:15,sdescription:"mmm...tasty",ldescription:"long description for tasty thing",image:K.a},{id:1,name:"item",price:3,sdescription:"chocolate",ldescription:"there is nothing more tastier than chocolate",image:z.a},{id:2,name:"item",price:12,sdescription:"a bit of meat",ldescription:"meat is our everything",image:q.a},{id:3,name:"item",price:45,sdescription:"hey apple",ldescription:"apple for some Snow White",image:X.a},{id:4,name:"item",price:5,sdescription:"Variety of nuts on plate",ldescription:"don't get nuts with this",image:ee.a},{id:5,name:"item",price:7,sdescription:"Cookies",ldescription:"where is my tea?",image:ae.a},{id:6,name:"item",price:12,sdescription:"Top view of bowl filled with eggs",ldescription:"where is white rabbit?",image:re.a}],this._transformItems=function(e){return{id:e.id,name:e.name,price:e.price,sdescription:e.sdescription,ldescription:e.ldescription,image:e.image,isliked:!1}}}return Object(o.a)(e,[{key:"getItems",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){Math.random()>.7?a(new Error("Something bad happened")):t(e.data.map(e._transformItems))}),700)}))}}]),e}());i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:W},r.a.createElement(O,{value:ce},r.a.createElement(L,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.2c9a7c95.chunk.js.map